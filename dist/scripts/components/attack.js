import{getPause}from"./timer.js";const firstNumber=document.getElementById("firstNumber"),secondNumber=document.getElementById("secondNumber"),operator=document.getElementById("operator"),result=document.getElementById("result"),form=document.querySelector(".attack__main"),scoreElement=document.getElementById("scoreForm"),task=document.querySelector(".attack__main "),mScore=document.getElementById("mScore"),mCorrect=document.getElementById("mCorrect"),mIncorrect=document.getElementById("mIncorrect"),mLevel=document.getElementById("mLevel"),corrPlus=document.getElementById("corrPlus"),corrMinus=document.getElementById("corrMinus"),levelRound=document.getElementById("level");function getRandom(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}const operators=["+","-","*","/"],calculate=(e,t,r)=>{switch(r){case"+":return e+t;case"-":return e-t;case"/":return e/t;default:return e*t}},generateExample=()=>{const e=getRandom(1,10*level),t=getRandom(1,10*level),r=operators[getRandom(0,3)];return"/"===r&&e%t!=0?generateExample():{firstNumber:e,secondNumber:t,operator:r,result:calculate(e,t,r)}},renderExample=e=>{firstNumber.textContent=e.firstNumber,secondNumber.textContent=e.secondNumber,operator.textContent=e.operator};let level=1,correct=0,streak=0,inCorrect=0,score=0,example=generateExample();renderExample(example);const onSubmit=e=>{e.preventDefault(),Number(result.value)===Number(example.result)?(score++,correct++,streak++,corrPlus.classList.remove("animationpl"),requestAnimationFrame((()=>{corrPlus.classList.add("animationpl")}))):(score--,inCorrect++,streak=0,scoreElement.classList.remove("animationfr"),corrMinus.classList.remove("animationmn"),requestAnimationFrame((()=>{corrMinus.classList.add("animationmn")})),requestAnimationFrame((()=>{scoreElement.classList.add("animationfr")}))),5==streak&&(level++,streak=0),result.value="",example=generateExample(),task.classList.remove("animation"),task.classList.add("animations"),setTimeout((()=>{task.classList.add("animation"),task.classList.remove("animations"),renderExample(example)}),300),scoreElement.textContent=score,mScore.textContent=score,mCorrect.textContent=correct,mIncorrect.textContent=inCorrect,levelRound.textContent=level,mLevel.textContent=level};form.addEventListener("submit",onSubmit);export const getResult=()=>({score,level});const users=document.getElementById("name");let user=localStorage.getItem("name");users.textContent=user;